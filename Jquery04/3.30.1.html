<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script src="jquery3.min.js"></script>
	<style>
	
	.box{

		position: relative;
		top:100px;
		left:100px;

	}
	.box .small{
        width: 300px;
        height:400px;
      
        position: absolute;
	}
   .big{
       width: 500px;
       height: 400px;
      /* border: 1px solid black;*/
       position:absolute;
       left:400px;
       display: none;
		  overflow: hidden;
    }
      #bigimg{
     	position: absolute;
     	top: 0;
     	left: 0;
     }
     #smallimg{
     	position: absolute;
     	top: 0;
     	left:0;
     }
   .mark{
   	 width: 150px;
   	 height:150px;
   	 background-color: blue;
     position: absolute;
     opacity: 0.4;
	  display:none;
	
   }
	</style>
</head>
<body>
	<div class="box">
	  <div class="small">
    <img src="small.jpg" alt="" id="smallimg">
    <div class="mark">
    </div>
</div>
	  <div class="big">
	   <img src="big.jpg" alt="" id="bigimg">
	  </div>
  </div>
</body>
<script type="text/javascript">
   // 当鼠标悬浮上去的时候让遮罩层,放大镜显示
 $(".small").mouseover(function(){
 	$(".mark").css("display","block")
 	$(".big").css("display","block")
 
 })
   // 当鼠标离开的时候让遮罩层,放大镜隐藏
  $(".small").mouseout(function(){
 	$(".mark").css("display","none")
 	$(".big").css("display","none")
    
 })
     // 移动鼠标让该图片放大显示
$(".small").mousemove(function(e){
	var oEvent = e ||event;
  var left = oEvent.clientX - (100 +(150/2));
     var top = oEvent.clientY - ( 100 +(150/2));

         if(left <= 0){
      	left = 0;
      }
      if(top  <= 0){
      	top = 0;
      }
      // 让放大镜紧贴图片边缘
      if(left >= 150){
          left = 150;
     }
    if(top >= 250){
    top = 250;
     } 
     $(".mark").css("left",left + "px");
     $(".mark").css("top", top + "px");
    $("#bigimg").css("left",(left/400) * -750 + "px");
    $("#bigimg").css("top",(top/500) * -1000 + "px");
    
    
})
</script>
</html>